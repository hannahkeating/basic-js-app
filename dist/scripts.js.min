var pokemonRepository=function(){var e=[],t=(document.querySelector("ul"),document.querySelector("#modal-container")),n="https://pokeapi.co/api/v2/pokemon/?limit=150";function i(t){e.push(t)}function o(e){pokemonRepository.loadDetails(e).then(function(){a(e)})}function a(e){t.innerHTML="";var n=document.createElement("div");n.classList.add("modal");var i=document.createElement("button");i.classList.add("modal-close"),i.innerText="Close",i.addEventListener("click",s);var o=document.createElement("h1");o.innerText=e.name;var a=document.createElement("img");a.src=e.imageUrl,a.classList.add("modal-img");var c=document.createElement("p");c.innerText="Height: "+e.height+"m";var r=document.createElement("p");r.innerText="Types: "+e.types,n.appendChild(i),n.appendChild(o),n.appendChild(a),n.appendChild(c),n.appendChild(r),t.appendChild(n),t.classList.add("is-visible")}function s(){t.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&s()}),t.addEventListener("click",e=>{e.target===t&&s()}),{add:i,getAll:function(){return e},addListItem:function(e){var t=document.querySelector(".pokemon-list"),n=document.createElement("li"),i=document.createElement("button");t.appendChild(n),n.appendChild(i),n.classList.add("li"),i.innerText=e.name,i.classList.add("button"),i.addEventListener("click",function(t){o(e)})},showDetails:o,loadList:function(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i(e={name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function(e){var t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,2==t.types.length?e.types=[t.types[0].type.name,t.types[1].type.name]:e.types=[t.types[0].type.name]}).catch(function(e){console.error(e)})},showModal:a,hideModal:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
